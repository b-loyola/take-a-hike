<div id="profile-page">
  <div class="row">
    <section class="hero-profile">
    <div class="container">
      <div id="profile-header" class="row">
        <div id="user-avatar">
          <br>
          <%= link_to image_tag("http://lorempixel.com/60/60/nature/#{@user.id}", width: '60', height: '60', id: '#', alt: 'user avatar') %>
        </div>

        <div id="user-name">
          <h3><%= @user.full_name %></h3>
          <h4>
            <span class="glyphicon glyphicon-signal"></span>
            <%= @user.hiker_level.upcase %>
          </h4>
          <h4>
            <span class="glyphicon glyphicon-dashboard"></span>
            <%= @user.kms_hiked %> kms
          </h4>
        </div>
      </div> <!-- end of row -->
    </div>

    </section>
  </div>







  <!-- New Tab Panels -->
<div class="container">
  <div class="row">
    <div class="col-md-12">
      <div class="panel with-nav-tabs panel-default">
        <div class="panel-heading">
          <ul class="nav nav-tabs">

            <li class="active">
              <a href="#tab1" data-toggle="tab">
                <div class="row">
                  <div class="col-md-2 hidden-xs hidden-sm"></div>
                  <div class="col-xs-12 col-md-2">
                    <h3><span class="glyphicon glyphicon-ok glyph-tab" aria-hidden="true"></span></h3>
                  </div>
                  <div class="main-btn-txt hidden-xs hidden-sm col-md-8">
                    <h4>Completed Hikes</h4>
                  </div>
                </div>
              </a>
            </li>

            <li>
              <a href="#tab2" data-toggle="tab">
                <div class="row">
                  <div class="col-md-2 hidden-xs hidden-sm"></div>
                  <div class="col-xs-12 col-md-2">
                    <h3><span class="glyphicon glyphicon-heart glyph-tab" aria-hidden="true"></span></h3>
                  </div>
                  <div class="main-btn-txt hidden-xs hidden-sm col-md-8">
                    <h4>Favourite Hikes</h4>
                  </div>
                </div>
              </a>
            </li>

            <li>
              <a href="#tab3" data-toggle="tab">
                <div class="row">
                  <div class="col-md-2 hidden-xs hidden-sm"></div>
                  <div class="col-xs-12 col-md-2">
                    <h3><span class="glyphicon glyphicon-pencil glyph-tab" aria-hidden="true"></span></h3>
                  </div>
                  <div class="main-btn-txt hidden-xs hidden-sm col-md-8">
                    <h4>Reviews</h4>
                  </div>
                </div>
              </a>
            </li>

          </ul>
          </div>
          <div class="panel-body">
              <div class="tab-content">
                  <div class="tab-pane fade in active" id="tab1">
                    <table id="completed_hikes_table" class="table table-hover" style="width:100%">
                      <thead>
                        <tr>
                          <td>Name</td>
                          <td>Distance</td>
                          <td>Difficulty</td>
                          <td>Date Completed</td>
                          <td>Delete</td>
                        </tr>
                      </thead>
                      <tbody>
                        <% @completed_hikes.each do |hike| %>
                          <tr>
                            <td><%= link_to hike.hike.name, hike_path(hike.hike_id) %></td>
                            <td><%= hike.hike.distance_in_km %></td>
                            <td><%= hike.hike.difficulty %></td>
                            <td><%= hike.created_at.strftime("%b %d, %Y") %></td>
                            <td><%= button_to "Delete", hike_completed_hike_path(hike.hike_id, hike.id),
                                    method: :delete,
                                    style: "background-color: #C6D166;",
                                    class: "btn btn-default btn-sm" %>
                            </td>
                          </tr>
                        <% end %>
                      </tbody>
                    </table>
                  </div>
                  <div class="tab-pane fade" id="tab2">
                    <table id="fave_hikes_table" class="table table-hover" style="width:100%">
                      <thead>
                        <tr>
                          <td>Name</td>
                          <td>Distance</td>
                          <td>Difficulty</td>
                          <td>Delete</td>
                        </tr>
                      </thead>
                      <tbody>
                        <% @fave_hikes.each do |hike| %>
                          <tr>
                            <td><%= link_to hike.hike.name, hike_path(hike.hike_id) %></td>
                            <td><%= hike.hike.distance_in_km %></td>
                            <td><%= hike.hike.difficulty %></td>
                            <td><%= button_to "Delete", hike_fave_hike_path(hike.hike_id, hike.id),
                                    method: :delete,
                                    style: "background-color: #C6D166;",
                                    class: "btn btn-default btn-sm" %>
                            </td>
                          </tr>
                        <% end %>
                      </tbody>
                    </table>
                  </div>
                  <div class="tab-pane fade" id="tab3">
                    <table id="reviews-table" class="table table-hover" style="width:100%">
                      <thead>
                        <tr>
                          <td>Name</td>
                          <td>Review</td>
                          <td>Rating</td>
                          <td>Delete</td>
                        </tr>
                      </thead>
                      <tbody>
                        <% @user.reviews.each do |review| %>
                          <tr>
                            <td><%= link_to review.hike.name, hike_path(review.hike_id) %></td>
                            <td><%= review.comment %></td>
                            <td><% review.rating.times do %>
                                  <span class="rate-tree glyphicon glyphicon-tree-conifer" aria-hidden="true"></span>
                                <% end %>
                            </td>
                            <td><%= button_to "Delete", hike_review_path(review.hike_id, review.id),
                                    method: :delete,
                                    style: "background-color: #C6D166;",
                                    class: "btn btn-default btn-sm" %>
                            </td>
                          </tr>
                        <% end %>
                      </tbody>
                    </table>
                  </div>
              </div>
          </div>
      </div>
    </div>
  </div>
</div>
  <!-- End of new panel -->

</div>
</div>
<%= javascript_include_tag 'jquery.dataTables.min' %>
<%= javascript_include_tag 'user_profile.js' %>
